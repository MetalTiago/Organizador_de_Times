# localization.py

STRINGS = {
    "pt_br": {
        # Main View
        "app_title": "Organizador de Times",
        "toggle_theme_tooltip": "Alternar Tema",
        "settings_tooltip": "Configurações",
        "select_list_label": "Selecione a Lista:",
        "organize_button_text": "Organizar Times",
        "organize_button_tooltip_disabled": "Selecione uma lista específica para poder organizar os times",
        "register_player_button_text": "Cadastrar Jogador",
        "filter_by_name_label": "Filtrar por Nome...",
        "all_players_list_name": "Jogadores Cadastrados",
        "create_new_list_menu": "Criar nova lista",
        "rename_list_menu": "Renomear lista atual",
        "manage_players_menu": "Gerenciar Jogadores",
        "delete_list_menu": "Excluir lista atual",

        # Components (Formulários & Diálogos)
        "player_name_label": "Nome",
        "name_cannot_be_empty_error": "O nome não pode estar vazio",
        "select_at_least_one_list_error": "Selecione pelo menos uma lista!",
        "player_saved_success": "Cadastrado com sucesso",
        "player_updated_success": "Jogador atualizado!",
        "generic_error": "Erro ao cadastrar: {error}",
        "new_player_title": "Novo Jogador",
        "edit_player_title": "Editar Jogador",
        "choose_photo_button": "Escolher Foto",
        "change_photo_button": "Mudar Foto",
        "skill_label": "Skill:",
        "add_to_lists_label": "Adicionar às Listas:",
        "save_player_button": "Salvar Jogador",
        "update_button": "Atualizar",
        "delete_confirmation_title": "Confirmação de Exclusão",
        "delete_confirmation_content": "Tem certeza que deseja excluir este jogador?",
        "yes_button": "Sim",
        "no_button": "Não",
        "player_deleted_success": "Jogador excluído!",

        # Settings View
        "settings_title": "Configurações",
        "back_button_tooltip": "Voltar",
        "export_title": "Exportar Listas e Jogadores",
        "export_subtitle": "Salva listas e jogadores em um arquivo CSV.",
        "import_title": "Importar Listas e Jogadores",
        "import_subtitle": "Adiciona listas e jogadores de um arquivo CSV.",

        # Selection View
        "selection_title": "Selecionar Jogadores",
        "selected_players_count": "Jogadores selecionados: {count}",
        "clear_button": "Limpar",
        "teams_count": "{count} Times",

        # Results View
        "results_title": "Times Gerados",
        "reorganize_button": "Reorganizar",
        "share_all_button": "Compartilhar Todos",
        "reorganizing_dialog_title": "Reorganizando...",
        "organizing_dialog_title": "Organizando...",
        "generate_teams_first_error": "Gere os times primeiro!",
        "all_teams_copied_success": "Times copiados!",
        "team_copied_success": "Time {team_name} copiado!",
        "total_skill_label": "Total Skill:",
        "copy_button_tooltip": "Copiar {team_name}",
        "team_name_prefix": "Time {color_name}",

        # Manage Players View
        "manage_list_title": "Gerenciando a Lista:",
        "rename_list_tooltip": "Renomear Lista",
        "save_changes_button": "Salvar Alterações",
        "list_updated_success": "Lista atualizada com sucesso!",
        "save_error": "Erro ao salvar: {error}",
    },
    "en_us": {
        # Main View
        "app_title": "Team Organizer",
        "toggle_theme_tooltip": "Toggle Theme",
        "settings_tooltip": "Settings",
        "select_list_label": "Select a List:",
        "organize_button_text": "Organize Teams",
        "organize_button_tooltip_disabled": "Select a specific list to organize teams",
        "register_player_button_text": "Register Player",
        "filter_by_name_label": "Filter by Name...",
        "all_players_list_name": "All Registered Players",
        "create_new_list_menu": "Create new list",
        "rename_list_menu": "Rename current list",
        "manage_players_menu": "Manage Players",
        "delete_list_menu": "Delete current list",

        # Components (Forms & Dialogs)
        "player_name_label": "Name",
        "name_cannot_be_empty_error": "Name cannot be empty",
        "select_at_least_one_list_error": "Select at least one list!",
        "player_saved_success": "Registered successfully",
        "player_updated_success": "Player updated!",
        "generic_error": "Error while saving: {error}",
        "new_player_title": "New Player",
        "edit_player_title": "Edit Player",
        "choose_photo_button": "Choose Photo",
        "change_photo_button": "Change Photo",
        "skill_label": "Skill:",
        "add_to_lists_label": "Add to Lists:",
        "save_player_button": "Save Player",
        "update_button": "Update",
        "delete_confirmation_title": "Delete Confirmation",
        "delete_confirmation_content": "Are you sure you want to delete this player?",
        "yes_button": "Yes",
        "no_button": "No",
        "player_deleted_success": "Player deleted!",

        # Settings View
        "settings_title": "Settings",
        "back_button_tooltip": "Back",
        "export_title": "Export Lists and Players",
        "export_subtitle": "Saves lists and players to a CSV file.",
        "import_title": "Import Lists and Players",
        "import_subtitle": "Adds lists and players from a CSV file.",
        
        # Selection View
        "selection_title": "Select Players",
        "selected_players_count": "Players selected: {count}",
        "clear_button": "Clear",
        "teams_count": "{count} Teams",

        # Results View
        "results_title": "Generated Teams",
        "reorganize_button": "Reorganize",
        "share_all_button": "Share All",
        "reorganizing_dialog_title": "Reorganizing...",
        "organizing_dialog_title": "Organizing...",
        "generate_teams_first_error": "Generate the teams first!",
        "all_teams_copied_success": "Teams copied!",
        "team_copied_success": "Team {team_name} copied!",
        "total_skill_label": "Total Skill:",
        "copy_button_tooltip": "Copy {team_name}",
        "team_name_prefix": "Team {color_name}",

        # Manage Players View
        "manage_list_title": "Managing List:",
        "rename_list_tooltip": "Rename List",
        "save_changes_button": "Save Changes",
        "list_updated_success": "List updated successfully!",
        "save_error": "Error while saving: {error}",
    },
    "es": {
        # Main View
        "app_title": "Organizador de Equipos",
        "toggle_theme_tooltip": "Cambiar Tema",
        "settings_tooltip": "Configuración",
        "select_list_label": "Selecciona la Lista:",
        "organize_button_text": "Organizar Equipos",
        "organize_button_tooltip_disabled": "Selecciona una lista específica para organizar equipos",
        "register_player_button_text": "Registrar Jugador",
        "filter_by_name_label": "Filtrar por Nombre...",
        "all_players_list_name": "Todos los Jugadores",
        "create_new_list_menu": "Crear nueva lista",
        "rename_list_menu": "Renombrar lista actual",
        "manage_players_menu": "Gestionar Jugadores",
        "delete_list_menu": "Eliminar lista actual",

        # Components (Forms & Dialogs)
        "player_name_label": "Nombre",
        "name_cannot_be_empty_error": "El nombre no puede estar vacío",
        "select_at_least_one_list_error": "¡Selecciona al menos una lista!",
        "player_saved_success": "Registrado con éxito",
        "player_updated_success": "¡Jugador actualizado!",
        "generic_error": "Error al registrar: {error}",
        "new_player_title": "Nuevo Jugador",
        "edit_player_title": "Editar Jugador",
        "choose_photo_button": "Elegir Foto",
        "change_photo_button": "Cambiar Foto",
        "skill_label": "Habilidad:",
        "add_to_lists_label": "Añadir a Listas:",
        "save_player_button": "Guardar Jugador",
        "update_button": "Actualizar",
        "delete_confirmation_title": "Confirmar Eliminación",
        "delete_confirmation_content": "¿Estás seguro de que quieres eliminar a este jugador?",
        "yes_button": "Sí",
        "no_button": "No",
        "player_deleted_success": "¡Jugador eliminado!",
        
        # Settings View
        "settings_title": "Configuración",
        "back_button_tooltip": "Volver",
        "export_title": "Exportar Listas y Jugadores",
        "export_subtitle": "Guarda listas y jugadores en un archivo CSV.",
        "import_title": "Importar Listas y Jugadores",
        "import_subtitle": "Añade listas y jugadores desde un archivo CSV.",
        
        # Selection View
        "selection_title": "Seleccionar Jugadores",
        "selected_players_count": "Jugadores seleccionados: {count}",
        "clear_button": "Limpiar",
        "teams_count": "{count} Equipos",

        # Results View
        "results_title": "Equipos Generados",
        "reorganize_button": "Reorganizar",
        "share_all_button": "Compartir Todos",
        "reorganizing_dialog_title": "Reorganizando...",
        "organizing_dialog_title": "Organizando...",
        "generate_teams_first_error": "¡Genera los equipos primero!",
        "all_teams_copied_success": "¡Equipos copiados!",
        "team_copied_success": "¡Equipo {team_name} copiado!",
        "total_skill_label": "Habilidad Total:",
        "copy_button_tooltip": "Copiar {team_name}",
        "team_name_prefix": "Equipo {color_name}",

        # Manage Players View
        "manage_list_title": "Gestionando la Lista:",
        "rename_list_tooltip": "Renombrar Lista",
        "save_changes_button": "Guardar Cambios",
        "list_updated_success": "¡Lista actualizada con éxito!",
        "save_error": "Error al guardar: {error}",
    }
}

def get_string(state, key, **kwargs):
    """Retorna a string traduzida com base no idioma atual do estado."""
    language_dict = STRINGS.get(state.current_language, STRINGS["en_us"])
    base_string = language_dict.get(key, STRINGS["en_us"].get(key, f"_{key}_"))
    return base_string.format(**kwargs)